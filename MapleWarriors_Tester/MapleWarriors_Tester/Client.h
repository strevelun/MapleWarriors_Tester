#pragma once

#include <WinSock2.h>
#include <WS2tcpip.h>
#include <array>

class Client
{
private:
	char					m_buffer[1024];
	SOCKET					m_hClientSocket;

	int						m_logoutTime = 0;
	double					m_accTimeUpdateInfo = 0.0;
	double					m_accTimeLobbyChat = 0.0;
	double					m_accTime = 0.0;

	// 97, 181, 134 (194, 362, 268) - 널포함
	std::array<const wchar_t*, 3> m_arrChat{
			L"설 연휴를 앞두고 농·축·수산물에 대해 최대 60%(정부 30%, 업계자체 최대 30%) 할인 혜택이 제공된다. 이를 위해 정부 할인폭을 기존보다 10%포인트 상향조정했다.",
			L"15일(현지시간) 우주기업 애스트로보틱에 따르면 이 회사가 개발해 지난 8일 우주로 발사된 달 착륙선 페레그린은 대기권에 재진입해 불타 사라지는 방식으로 임무를 종료할 예정이다. 이 회사는 미 항공우주국(NASA)과 협력해 우주 학계와 미 정부로부터 가장 안전하고 책임감 있는 조치에 대한 의견을 받았다면서 이같이 밝혔다.",
			L"In 1965, I. J. Good wrote that it is more probable than not that an ultraintelligent machine would be built in the twentieth century."
	};

public:
	Client();
	~Client();

	bool Update(double _deltaTime);

	bool Init(const char* _pServerIP, int _serverPort);
	void LobbyTestInit(int _logoutTime);

	void LobbyUpdateInfo();
	void JustLogin(const wchar_t* _pNickname);
	void LobbyChat(const wchar_t* _pChat);
	void Logout();
};


